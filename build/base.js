(function(e){var t=function(){var e=/\s+/;return{on:function(t,n,r){var i,s,o;if(!n)return this;t=t.split(e),i=this._callbacks||(this._callbacks={});while(s=t.shift())o=i[s]||(i[s]=[]),o.push(n,r);return this},off:function(t,n,r){var i,s,o,u;if(!(s=this._callbacks))return this;if(!(t||n||r))return delete this._callbacks,this;t=t?t.split(e):_.keys(s);while(i=t.shift()){if(!(o=s[i])||!n&&!r){delete s[i];continue}for(u=o.length-2;u>=0;u-=2)n&&o[u]!==n||r&&o[u+1]!==r||o.splice(u,2)}return this},trigger:function(t){var n,r,i,s,o,u,a,f;if(!(r=this._callbacks))return this;f=[],t=t.split(e);for(s=1,o=arguments.length;s<o;s++)f[s-1]=arguments[s];while(n=t.shift()){if(a=r.all)a=a.slice();if(i=r[n])i=i.slice();if(i)for(s=0,o=i.length;s<o;s+=2)i[s].apply(i[s+1]||this,f);if(a){u=[n].concat(f);for(s=0,o=a.length;s<o;s+=2)a[s].apply(a[s+1]||this,u)}}return this}}}();t.bind=t.on,t.unbind=t.off;var n=function(e){e=e||{}};n.extend=function(e){var r=function(t){t=t||{},n.setupDefaults(this,e.defaults),n.setupDefaults(this,t),e.initialize.apply(this),r.prototype.constructor=r,n.eventBinding(this,e.events)};_.extend(r.prototype,n.prototype),_.extend(r.prototype,t);for(var i in e)if(e.hasOwnProperty(i))switch(typeof e[i]){case"function":r.prototype[i]=e[i]}return r},n.eventBinding=function(e,t){t=t||{};for(var n in t){var r=n.split(" ")[0],i=n.split(" ")[1],s=t[n];e.$el.find(r).bind(i,function(t){e[s](t)})}},n.setupDefaults=function(e,t){t=_.clone(t)||{};for(var n in t){var r=t[n];t.hasOwnProperty(n)&&(e[n]=t[n])}e.el&&e.el.length>0&&(e.$el=jQuery(e.el))},e.Base=n})(this);